# avsdpll_study
- The Repository will give provide the details of week 3 letover which is essential to know before moving to any further training. The week 3 ingredients were essential and must not be weak for me. so here Let's break it down.
- This Verilog module, named `avsdpll`, models a simplified `digitally-controlled oscillator (DCO)` or `VCO-based PLL (Phase-Locked Loop)` in behavioral simulation. 
- It is not synthesizable, but it is useful for `simulation` of PLL-like behavior in testbenches.
  
‚úÖ Module Ports

module avsdpll (
   output reg  CLK,     // Output clock signal generated by the VCO
   input  wire VCO_IN,  // Unused (possibly for extension)
   input  wire ENb_CP,  // Unused (possibly for extension)
   input  wire ENb_VCO, // Active-low enable for the VCO
   input  wire REF      // Reference clock input
);

| Signal   | Direction | Purpose                                           |
|----------|-----------|--------------------------------------------------|
| CLK      | output    | The output clock generated by the VCO            |
| VCO_IN   | input     | Not used in current implementation (might be for future use) |
| ENb_CP   | input     | Not used in current implementation (could control charge pump?) |
| ENb_VCO  | input     | Enable for the VCO (active-low, so 0 enables it) |
| REF      | input     | Reference clock input for adjusting the VCO output frequency |

‚úÖ Internal Variables

```verilog
real period, lastedge, refpd;
```
- **period**: Current period of the output `CLK` signal (in nanoseconds).
- **lastedge**: Timestamp of the last rising edge on `REF`.
- **refpd**: Reference clock period (time between consecutive rising edges on `REF`).

```verilog
initial begin
   lastedge = 0.0;
   period = 25.0; // 25ns period = 40MHz
   CLK <= 0;
end
```
- Initializes the `clock period` to `25 ns` (‚Üí `40 MHz` output frequency).
- Sets initial values for lastedge and `CLK`.

‚úÖ Output Clock Generation (always @(CLK or ENb_VCO))

```verilog
always @(CLK or ENb_VCO) begin
   if (ENb_VCO == 1'b1) begin
      #(period / 2.0);
      CLK <= (CLK === 1'b0);
   end
   else if (ENb_VCO == 1'b0) begin
      CLK <= 1'b0;
   end 
   else begin
      CLK <= 1'bx;
   end
end
```

- If `ENb_VCO == 1` (VCO enabled), then the output CLK toggles every period/2. So the full period of CLK is period (`clock period` to `25 ns) as initialise earlier
- This generates a clock of frequency: f = 1 / period.
  
- If `ENb_VCO == 0`, the clock is `forced low` (off).
  
- If ENb_VCO is unknown (x), output goes to x.
**Note**: This is a behavioral clock generation style often used in simulations. *It wouldn't synthesize into hardware.*

‚úÖ Period Adjustment (always @(posedge REF))
```
always @(posedge REF) begin
   if (lastedge > 0.0) begin
      refpd = $realtime - lastedge;
      period =  (refpd / 8.0);
   end
   lastedge = $realtime;
end
```
- Every rising edge of the REF clock:
- It measures the time since the last rising edge (refpd).
- Then, it sets the VCO clock period to 1/8th of the reference period.
- In other words, it tries to make the output frequency = 8 √ó REF frequency.

> [!TIP]
> Example: If REF is 10 MHz (100 ns period), output CLK will try to be 80 MHz (period = 12.5 ns).

üîÅ Summary of Behavior

- Simulates a VCO/PLL that: Adjusts its frequency to track the reference clock.
- Specifically, it multiplies the frequency of the REF clock by 8.
- Uses simulation time ($realtime) to measure and adjust periods.
- The output clock is toggled at a rate set by this adjusted period.
- VCO can be turned off with ENb_VCO.

‚ö†Ô∏è Limitations and Notes

- Behavioral only: This is not synthesizable; it's for simulation modeling.
- VCO_IN and ENb_CP are not used ‚Äî likely placeholders for future features.
- Simple model ‚Äî doesn't include feedback loop, PFD, charge pump, or loop filter logic of a full PLL.
- Can be extended to make more accurate behavioral PLLs for verification.

‚úÖ Liberty Library File for `avsdpll.lib` (VSDBabySoC/src/lib/avsdpll.lib)
 ## What this is for:
- The .lib file is used by static timing analysis (STA) tools to understand the timing, power, and loading characteristics of your module.
- It defines:
 -- Units (time, voltage, capacitance, etc.).
 -- Pin directions and electrical properties.
 -- Transition and capacitance limits for input signals.
- A Liberty (.lib) format description, used to characterize a standard cell or module for ASIC or FPGA design tools
- especially for timing and power analysis. It‚Äôs describing the electrical and timing characteristics of your avsdpll module.


